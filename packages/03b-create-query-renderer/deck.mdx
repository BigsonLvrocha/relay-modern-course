import { Head, Image, Appear } from 'mdx-deck'
import Code from 'mdx-code';
import { CodeSurfer } from "mdx-deck-code-surfer";

import { Cover } from '../Cover';
import { Intro } from '../Intro';

export { default as theme } from '../theme'

<Head>
  <title>Relay Modern Deep Dive Course</title>
</Head>

<Cover />
---
### Create Query Renderer helper
<ul>
  <Appear>
    <li>It will keep your default Error and Loading view setup</li>
    <li>It will reduce number of lines of code</li>
  </Appear>
</ul>

```notes
```
---
<CodeSurfer
  title="Create Query Renderer helper"
  code={require('!raw-loader!./createQueryRenderer.tsx')}
  showNumbers={false}
  dark={true}
  lang="jsx"
  steps={[
    { notes: "A helper to make it easy to use QR" },
    { range: [11,17], notes: 'A few configs to make our helper customizable' },
    { range: [18, 21], notes: 'It receives a Fragment Container, a Component and a config' },
    { range: [27, 29], notes: 'It will get QR variables using config.variables or dynamic using queriesParams' },
    { range: [32, 36], notes: 'QR receives the default Environment, the config query and the variables' },
    { range: [37, 43], notes: 'If there is an error, it will show the default Error view screen with retry option' },
    { range: [58,62], notes: 'It will render null or a custom loadingView or the default LoadingView based on the config' },
    { range: [45,56], notes: 'It render the FragmentContainer with component props and fragment props from the query' },
    { notes: "This will reduce a lot of boilerplate involved with using QR" },
  ]}
/>
---
<CodeSurfer
  title="Create Query Renderer usage"
  code={require('!raw-loader!./cqrExample.js')}
  showNumbers={false}
  dark={true}
  lang="jsx"
  steps={[
    { notes: "How to use it" },
    { range: [28,54], notes: '26 lines to deal with QR boilerplate before using our helper' },
    { range: [56, 74], notes: '18 lines plus good defaults for Error and Loading behavior' },
  ]}
/>
