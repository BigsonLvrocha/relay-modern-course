import { Head, Image, Appear } from 'mdx-deck'
import Code from 'mdx-code';
import { CodeSurfer } from "mdx-deck-code-surfer";

import { Cover } from '../Cover';
import { Intro } from '../Intro';

export { default as theme } from '../theme'

<Head>
  <title>Relay Modern Deep Dive Course</title>
</Head>

<Cover />
---
### @include and @skip directive
<ul>
  <Appear>
    <li>Both directives let you resolve fields conditionally</li>
    <li>@include will resolve a field if param is true</li>
    <li>@skip will not resolve the field if the param is true</li>
    <li>It can be used to show more data later on</li>
  </Appear>
</ul>

```notes
```
---
<CodeSurfer
  title="@include and @skip directive"
  code={require('!raw-loader!./IncludeExample.js')}
  showNumbers={false}
  dark={true}
  lang="jsx"
  steps={[
    { notes: "How to conditionally resolve fields" },
    { notes: "@skip is the opposite of @include" },
    { range: [7,37], notes: 'This is our Post component that will only show comments when we click a button' },
    { range: [27, 36], notes: 'It render the post title and description and a button to show comments' },
    { range: [15, 25], notes: 'We only render comments if they are not null' },
    { range: [8, 13], notes: 'We are going to do a refetch with showComments: true to get post comments' },
    { range: [39, 76], notes: 'This is our Post Refetch Container' },
    { range: [42, 60], notes: 'We have a post fragment' },
    { range: [44, 46], notes: 'It has a local variable showComments that starts as false' },
    { range: [50, 59], notes: 'It will only fetch comments field when showComments is true' },
    { range: [63, 74], notes: 'We have our PostRefetchQuery that accepts the post id and the showComments boolean arguments' },
    { notes: "@include/@skip can be used to lazy load data" },
    { notes: "@include/@skip can be used to skip expensive field processing" },
  ]}
/>
