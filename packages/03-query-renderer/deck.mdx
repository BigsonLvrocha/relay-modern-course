import { Head, Image, Appear } from 'mdx-deck'
import Code from 'mdx-code';
import { CodeSurfer } from "mdx-deck-code-surfer";

import { Cover } from '../Cover';
import { Intro } from '../Intro';

export { default as theme } from '../theme'

<Head>
  <title>Relay Modern Deep Dive Course</title>
</Head>

<Cover />
---
### Rendering GraphQL Queries
<ul>
  <Appear>
    <li>It let render GraphQL data in React components</li>
  </Appear>
</ul>

```notes
We are going to use QueryRenderer as the entry point of queries
```
---
<CodeSurfer
  title="Relay Modern QueryRenderer"
  code={require('!raw-loader!./QueryRendererExample.js')}
  showNumbers={false}
  dark={true}
  lang="jsx"
  steps={[
    { notes: "QueryRenderer will fetch GraphQL data and pass that to render props" },
    { range: [5,28], notes: 'Simple component that render logged user data' },
    { lines: [7], notes: 'Pass your Relay Environment so Relay can know how to fetch and store data' },
    { range: [8,15], notes: 'Define your GraphQL query that will be executed' },
    { range: [8,15], notes: 'This query will get id and name of logged user (me)' },
    { lines: [16], notes: 'Define variables for the query, we will discuss more on this later on' },
    { range: [17,25], notes: 'Render props that receive error and props based on query and relay config' },
    { range: [18, 20], notes: 'If there was an error executing the GraphQL, render an Error component' },
    { range: [21, 23], notes: 'If there is no error neither props, render a Loading Component' },
    { lines: [24], notes: 'If there is props, render your Component with GraphQL data' },
    { notes: "QueryRenderer is the entrypoint of all GraphQL fetching" },
  ]}
/>
---
```notes
Your Relay Modern Environment can evolve as your app requirements changes,
it can easily attend simpler and complex workflows
```
