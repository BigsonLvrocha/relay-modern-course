import { Head, Image, Appear } from 'mdx-deck'
import Code from 'mdx-code';
import { CodeSurfer } from "mdx-deck-code-surfer";

import { Cover } from '../Cover';
import { Intro } from '../Intro';

export { default as theme } from '../theme'

<Head>
  <title>Relay Modern Deep Dive Course</title>
</Head>

<Cover />
---
### Composing Fragment Containers
<ul>
  <Appear>
    <li>Fragment containers are just React components</li>
    <li>We can compose them</li>
    <li>We can re-use a fragment container in another fragment container</li>
  </Appear>
</ul>

```notes
```
---
<CodeSurfer
  title="Composing Fragment Containers"
  code={require('!raw-loader!./Feed.tsx')}
  showNumbers={false}
  dark={true}
  lang="jsx"
  steps={[
    { notes: "How to compose them?" },
    { range: [7,23], notes: 'We have our Post fragment container, that render data from a single Post' },
    { range: [25, 52], notes: 'We want to render a list of posts in our newsfeed' },
    { range: [42, 51], notes: 'We ask for the first 10 posts in our feed' },
    { lines: [47], notes: 'We let Post fragment container decides which data it needs' },
    { lines: [47], notes: 'Feed fragment container does not need to know about Post fragment data requirements' },
    { lines: [47], notes: 'This let them be uncoupled, making it easy to refactor them' },
    { range: [39,53], notes: 'We can just spread other fragments in our fragments and queries to reuse them' },
    { range: [39,53], notes: 'The same we do in pure GraphQL' },
    { notes: "In more advanced scenarios with can pass arguments to fragments to customize their behavior" },
  ]}
/>
