import { Head, Image, Appear } from 'mdx-deck'
import Code from 'mdx-code';
import { CodeSurfer } from "mdx-deck-code-surfer";

import { Cover } from '../Cover';
import { Intro } from '../Intro';

export { default as theme } from '../theme'

<Head>
  <title>Relay Modern Deep Dive Course</title>
</Head>

<Cover />
---
<CodeSurfer
  title="Relay Modern + TypeScript"
  code={`
  Post.js -> Post.tsx
  yarn add --dev relay-compiler-language-typescript
  "scripts": {
    "relay": "relay-compiler
       --src ./src
       --schema ./data/schema.graphql
       --language typescript"
  }
  `}
  showNumbers={false}
  dark={true}
  lang="json"
  steps={[
    { notes: "We can add TypeScript to Relay Modern in a few steps" },
    { lines: [2], notes: "Convert all components from .js to .tsx extension" },
    { lines: [3], notes: "Add Relay Compiler Language Typescript package" },
    { range: [4,9], notes: "Modify relay-compiler call to generate typescript types" },
  ]}
/>
---
<CodeSurfer
  title="Generated Fragment artifact"
  code={require('!raw-loader!./UserList_query.graphql.ts')}
  showNumbers={false}
  dark={true}
  lang="json"
  steps={[
    { notes: "This is the code generated by Relay Modern TypeScript plugin" },
    { range: [3, 16], notes: "TypeScript types for fragments" },
    { lines: [20, 134], notes: "GraphQL generated artifact" },
  ]}
/>
---
<CodeSurfer
  title="Generated Query artifact"
  code={require('!raw-loader!./UserListQuery.graphql.ts')}
  showNumbers={false}
  dark={true}
  lang="json"
  steps={[
    { notes: "This is the generated artifact for the whole query" },
    { range: [3, 12], notes: "Query types" },
    { lines: [16, 38], notes: "GraphQL query text to be sent to server" },
    { lines: [40, 185], notes: "GraphQL generated artifact" },
  ]}
/>
---

